## 1.微分の概要についてまとめよ（理解を採点者に伝える）

【回答】  

微分とは、変数xの微小な変化に対応する、関数f(x)の変化の割合の極限を求めることです。
関数 f(x)に対して、導関数f′(x) を求めることを「関数 f(x)を**微分する**」と言います。

・導関数（＝微分した結果）を数式で表すと以下となります。limとは、xの増加量を表すhを極限まで小さくするという意味です。hを0に極限まで近づけるため、導関数f′(x)は極限値なのです。xが具体的な点x1を表す場合、f′(x1)は微分係数と言います。微分係数f′(x1)は曲線y=f(x)上の点(x1,f(x1))における接線の傾きを表します。

関数f(x)がx=x1において微分係数を持つとき、f(x)はx=x1で微分可能であると言います。

![スクリーンショット 2018-10-08 17.18.52](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 17.18.52.png)

・グラフで表すと以下となります。xの微小な増加量Δxは、上式のhに相当します。

![スクリーンショット 2018-10-08 17.39.16](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 17.39.16.png)

・導関数を記号で表すと以下となります。

![スクリーンショット 2018-10-08 17.40.56](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 17.40.56.png)

## 2.微分の概要について素人にも分かるように簡潔に説明せよ

【回答】

自動車で60kmの道のりを1時間で走ったとします。その時の平均の速さは時速60kmです。しかし、走っている間にスピードメーターの**針は絶えず動いており**、常に一定の時速60kmを指しているわけではないです。信号待ちで止まったり、カーブで減速したり、見晴らしの良い直線道路ではスピードを出したりします。加速、減速、停止を繰り返します。先ほどの「時速60km」という値は平均の速さで、スピードメーターの針が全く動かないように60kmの道のりを1時間で一定の速さで走った時と言えます。**絶えず動いているスピードメーターの針の時速**は、**その瞬間の速さ**を表します。その瞬間の速さを求める手法を微分と言います。

平均の速さ[km/h] = 60[km] / 1[h]

瞬間の速さの説明は以下となります。
![IMG_0022](/Users/tsuneo/Downloads/IMG_0022.JPG)



## 3.偏微分の概要についてまとめよ（理解を採点者に伝える）

【回答】

偏微分とは、n 変数関数 f(x1, x2, …, xn) のある一つの変数 x(i) 以外の n-1 個の変数の値を固定することで、f を x(i) だけの関数とみて、この関数を x(i) について微分することです。   

記号で表すと以下となります。**∂**はラウンドと発音します。

![スクリーンショット 2018-10-08 17.55.03](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 17.55.03.png)

例として、2変数関数の偏微分について説明します。2つの独立変数 x , y を持つ関数 z=f(x,y) について、変数 y を変化させることなく固定して変数 x だけについてf を微分することを、f の x に関する**偏微分**と言います。同様に、変数xを変化させることなく固定して変数yだけについてfを微分することを、fのyに関する偏微分と言います。   
関数 z=f(x,y) 上の点 (a,b) の周囲が十分になめらかであり、

![スクリーンショット 2018-10-08 18.07.44](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 18.07.44.png)

が極限値を持つとき、関数 f(x,y) は点 (a,b) で x について**偏微分可能**であるといい、この極限値を**偏微分係数**という。fの(a,b)における **x**に関する偏微分係数を次のような記号で定義できる。

![スクリーンショット 2018-10-08 18.09.38](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 18.09.38.png)

同様に, 関数 f 上の点 (a,b) における **y** に関する偏微分係数も次式で定義できる。

![スクリーンショット 2018-10-08 18.09.48](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 18.09.48.png)



## 4.偏微分の概要について素人にも分かるように簡潔に説明せよ

【回答】  

（常）微分の箇所で説明した内容は、時間を表す変数**t**が決まれば、速さを表す変数**v**が決まるような1変数の関数でしたが、この変数が複数存在するような多変数関数において、ある１つの変数に着目して、その変数以外を全部定数だとみなして微分することを偏微分と言います。

例えば、z = x^2 + y^2という関数の場合、

**zをxで偏微分する：**   
x以外定数だとみなして微分したもの。記号は∂f(x,y)/∂xと表します。この場合は2xとなります。   
**zをyで偏微分する：**   
y以外定数だとみなして微分したもの。記号は∂f(x,y)/∂yと表します。この場合は2yとなります。   



## 5.微分/偏微分の機械学習、深層学習における使用についてまとめよ（理解を採点者に伝える）

【回答】

機械学習アルゴリズムの一つ**単回帰分析**を例に、微分/偏微分が使用されているか説明したいと思います。  

下記表は７人の生徒の身長と体重の資料です。  
体重yを目的変数、身長xを説明変数とする回帰方程式　**y**[身長]  =  **p**x[体重]  +  **q** の定数**p** ,**q**を求めてみたいと思います。 

| **番号** | **身長x** （説明変数） | **体重y** （目的変数） |
| :------- | ---------------------- | ---------------------- |
| **1**    | 153.3                  | 45.5                   |
| **2**    | 164.9                  | 56.0                   |
| **3**    | 168.1                  | 55.0                   |
| **4**    | 151.5                  | 52.8                   |
| **5**    | 157.8                  | 55.6                   |
| **6**    | 156.7                  | 50.8                   |
| **7**    | 161.1                  | 56.4                   |

k番の生徒の身長をx(k)、体重をy(k)とします。すると、k番の生徒の「回帰分析が予測する値」は、次のようになります。   
予測値  =  px(k)  +  q  

この予測値を表にしてみます。  

| **番号** | **身長x** | **体重y** | **予測値（px＋q）** |
| -------- | --------- | --------- | ------------------- |
| **1**    | 153.3     | 45.5      | 153.3p + q          |
| **2**    | 164.9     | 56.0      | 164.9p + q          |
| **3**    | 168.1     | 55.0      | 168.1p + q          |
| **4**    | 151.5     | 52.8      | 151.5p + q          |
| **5**    | 157.8     | 55.6      | 157.8p + q          |
| **6**    | 156.7     | 50.8      | 156.7p + q          |
| **7**    | 161.1     | 56.4      | 161.1p + q          |

「実際の体重y(k)」と「予測値」との「誤差e(k)」は次のように算出されます。  

e(k)  =  y(k)  -  (px(k)  +  q)  

このe(k)の値は正にも負にもなるため、7人全員の誤差全体を単純に足し合わせると相殺されてしまいます。そこで、次の値C(k)を考えます。これを**2乗誤差**と呼びます。2乗すれば必ずプラスの値になるため正負で相殺されることはありません。頭に(1/2)が付いているのは、のちほど微分した時に綺麗になるためです。  

C(k)  =  (1/2)  *  ( e(k) )^2  =  (1/2)  *  {  y(k)  -  (px(k)  +  q)  }^2  

この2乗誤差をデータ全体で加算した値である、**2乗和誤差**C(total)を考えます。  

C(total)  =  C1  +  C2  + ・・　+  C7  

予測値の表と、2乗和誤差の式から、誤差の総和C(total)はp,qの式で次のように表せます。  

① C(total)  = (1/2) {45.5 - (153.3p + q)}^2  +  (1/2){56.0  -  (164.9p  +  q)}^2 + ・+(1/2){56.4  -  (161.1p  +  q)}^2  

目標は定数p,qの値の決定です。上記の式はp,qを変数とした2変数関数となります。回帰分析では「誤差の総和C(total)が最小になるp,qが解となる」と考えますので、C(total)をpとqそれぞれで偏微分した値が0になれば良いわけです。以下の式を満たせば良いことになります。  

∂C(t)/∂p  =  0  
∂C(t)/∂q  =  0  

```
多変数関数の合成関数（連鎖律：チェーンルール）は以下が成り立ちます。
∂z/∂x  =  (∂z/∂u)*(∂u/∂x)  +  (∂z/∂v)*(∂v/∂x)    ※変数zがu、vの関数で、u、vがそれぞれx、yの関数
∂z/∂y  =  (∂z/∂u)*(∂u/∂y)  +  (∂z/∂v)*(∂v/∂y)
```

①式を多変数関数の合成関数の微分ルールを適用してみます。  

∂C(t)/∂p  =  - 153{45.5 - (153.3p + q)} - 164.9{56.0 - (164.9p + q)}  ・・　- 161.1{56.4 - (161.p + q)} = 0  
∂C(t)/∂q  =  - {45.5 - (153.3p + q)} - {56.0 - (164.9p + q)}  ・・　- {56.4 - (161.p + q)} = 0  

まとめると、  
1113.4p + 7q = 372.1  
177312p + 1113.4q = 59274  

この連立方程式を解いて  
p = 0.41、q = -12.06  

こうして、目標の回帰方程式は以下となります。  
y = 0.41p - 12.06  

このように、微分（偏微分）は、機械学習の中で使用されます。  



## 6.微分/偏微分の機械学習、深層学習における使用について素人にも分かるように簡潔に説明せよ

【回答】

・機械学習/深層学習にはニューラルネットワークという考え方があります。このニューラルネットワークを構成するユニットのパラメータである「重みとバイアス」が全て変数として扱われるため、とても大量の変数を学習させる必要があります。深層学習で、最適なパラメータ「重みとバイアス」を求める際に、勾配降下法や誤差逆伝播という技法を使用しますが、その際に、多変数関数の偏微分と、多変数関数の合成関数（チェーンルール、連鎖律とも言います）の考え方が重要になってきます。   

・ニューラルネットワークに学習データを与え、重みやバイアスをそれに適合するように決定することを「学習」と呼びます。数学一般ではそれを「最適化」と呼びますが、その最適化の目標になる「損失関数（＝目的関数、コスト関数とも言います）」を求めます。   

・機械学習では、損失関数の値がどの地点で最小値を取るのか調べることが多いです。その最小値を調べるときの微分・偏微分を使用します。例えば、損失関数とは、正解値と予測値の誤差を表す関数ですが、この関数を最小化するような値を求める方法を考えます。損失関数を微分・偏微分すると、ある瞬間に損失関数がどちらにどれくらい傾いているか知ることが出来ます。傾きの絶対値の大きさを小さくする方向に徐々にずらし、損失関数の最小値を求める手法を勾配降下法と呼び、深層学習で重要な役割を果たす手法の一つになります。  


## 7.合成関数の微分

![スクリーンショット 2018-10-09 11.43.02](/Users/tsuneo/Desktop/スクリーンショット 2018-10-09 11.43.02.png)

```
また、思考の過程を整理するため、記述式で回答を記述し、途中式はできるだけ省くことなく記述すること。
```

【回答】

例題１：  
![例題１](/Users/tsuneo/Desktop/例題１.png)



例題２：  

![IMG_0016](/Users/tsuneo/Downloads/IMG_0016.JPG)





# 8.合成関数の偏微分

![スクリーンショット 2018-10-08 18.47.02](/Users/tsuneo/Desktop/スクリーンショット 2018-10-08 18.47.02.png)

```
に対して偏導関数 ∂f/∂x を求めよ。また、思考の過程を整理するため、記述式で回答を記述し、途中式はできるだけ省くことなく記述すること。
```

【回答】

![IMG_0018](/Users/tsuneo/Downloads/IMG_0018.JPG)